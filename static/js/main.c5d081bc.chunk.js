(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{106:function(e,t,n){},108:function(e,t,n){},112:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),s=n.n(c),i=(n(86),n(19)),o=n.n(i),u=n(43),l=n(38),d=n(20),j=n(31),f=n.n(j),b=(n(106),n(5));function h(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"selection-bar",children:[Object(b.jsx)("button",{className:"button all-button",onClick:function(){return e.setStatus(null)},value:"all",children:"All"}),Object(b.jsx)("button",{className:"button done-button",onClick:function(){return e.setStatus(!0)},value:"done",children:"Done"}),Object(b.jsx)("button",{className:"button undone-button",onClick:function(){return e.setStatus(!1)},value:"undone",children:"Undone"})]})})}var p=n(165);n(108);function O(e){return Object(b.jsx)("div",{className:"input",children:Object(b.jsx)(p.a,{onChange:e.handlerInputText,onKeyPress:e.handlerInputText,type:"text",autoComplete:"off",className:"main-input",id:"outlined-basic",label:"I want to...",variant:"outlined"})})}var x=n(160),m=n(161),v=n(162),g=n(171),k=n(168),w=n(163),y=n(73),C=n.n(y);n(112);function E(e){return Object(b.jsx)("div",{className:"list",children:Object(b.jsx)(x.a,{width:"100%",children:e.todos.map((function(t){return Object(b.jsxs)(m.a,{children:[Object(b.jsx)(v.a,{children:Object(b.jsx)(k.a,{checked:t.done,onClick:function(n){return e.handlerCheckingCheckBox(n,t.id)},color:"primary"})}),Object(b.jsx)(g.a,{primary:t.name,onDoubleClick:function(){e.setIsEdit(t.id)}}),e.isEdit===t.id?Object(b.jsx)(p.a,{className:"edit-input",onKeyDown:function(n){return e.handlerEscapeEdition(n,t.id)},onChange:function(t){return e.handlerEditText(t)},onKeyPress:function(n){e.handlerEditText(n,t.id)}}):null,Object(b.jsx)("p",{className:"date",children:t.createdAt.split("T")[0]}),Object(b.jsx)(w.a,{onClick:function(n){return e.handlerCheckIsEditing(n,t.id)},edge:"end","aria-label":"comments"}),Object(b.jsx)(w.a,{onClick:function(n){return e.handlerDeleteItem(t.id)},edge:"end","aria-label":"comments",children:Object(b.jsx)(C.a,{})})]},t.id)}))})})}var S=n(164),N=n(50);n(117);function T(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"sort",children:[Object(b.jsx)("h3",{children:"Sort by D\u0430te"}),Object(b.jsxs)("div",{className:"arrows",children:[Object(b.jsx)(S.a,{onClick:function(){return e.setSortTrigger("asc")},variant:"contained",children:Object(b.jsx)(N.b,{className:"up-arrow",size:"1rem"})}),Object(b.jsx)(S.a,{onClick:function(){return e.setSortTrigger("desc")},variant:"contained",children:Object(b.jsx)(N.a,{className:"down-arrow",size:"1rem"})})]})]})})}n(118);var D=n(166);function I(e){var t=e.handlerPageChange,n=e.amountOfPages;return Object(b.jsx)(D.a,{onChange:t,count:n})}var P=n(170),B=(n(119),n(167));function A(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(d.a)(c,2),i=s[0],j=s[1],p=Object(a.useState)([]),x=Object(d.a)(p,2),m=x[0],v=x[1],g=Object(a.useState)(null),k=Object(d.a)(g,2),w=k[0],y=k[1],C=Object(a.useState)(1),S=Object(d.a)(C,2),N=S[0],D=S[1],A=Object(a.useState)(1),K=Object(d.a)(A,2),z=K[0],J=K[1],M=Object(a.useState)("asc"),W=Object(d.a)(M,2),H=W[0],L=W[1],U=Object(a.useState)(""),q=Object(d.a)(U,2),F=q[0],G=q[1],Q=Object(a.useState)(!1),R=Object(d.a)(Q,2),V=R[0],X=R[1],Y=Object(a.useState)(""),Z=Object(d.a)(Y,2),$=Z[0],_=Z[1],ee="https://backend-serv-app.herokuapp.com/task/",te="https://backend-serv-app.herokuapp.com/tasks";function ne(e,t,n){return ae.apply(this,arguments)}function ae(){return(ae=Object(l.a)(o.a.mark((function e(t,n,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(te,{params:{order:t,filterBy:n,page:a}});case 2:r=e.sent,c=r.data,J(Math.ceil(c.count/5)),v(Object(u.a)(c.rows));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.patch(ee+"/"+t.id,{name:i});case 2:ne(H,w,N);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.patch(ee+"/"+t.id,{done:t.done});case 2:ne(H,w,N);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=function(e){function t(){return(t=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:n,done:!1},e.next=3,f.a.post(ee,t);case 3:ne(H,w,N),console.log("posted");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},ie=function(e,t){!function(e){re.apply(this,arguments)}(m.find((function(e){return e.id===t}))),ne(H,w,N)};return f.a.interceptors.response.use((function(e){return e}),(function(e){return e&&(G(e.response.data.errors||e.response.data.error),X(!0)),Promise.reject(e)})),Object(a.useEffect)((function(){ne(H,w,N)}),[]),Object(a.useEffect)((function(){ne(H,w,N),console.log(H)}),[H]),Object(a.useEffect)((function(){ne(H,w,N)}),[N,w]),Object(a.useEffect)((function(){D(1),ne(H,w,N)}),[w]),Object(b.jsxs)("section",{className:"main-section",children:[Object(b.jsx)("h1",{children:"ToDo List"}),Object(b.jsx)(O,{handlerInputText:function(e){if("Enter"===e.key)try{if(""===e.target.value.trim())throw e.target.value="",new Error("Write some task");e.preventDefault(),se(e),r(""),e.target.value=""}catch(t){G(t.message),X(!0)}else r(e.target.value)},inputText:n}),Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsx)(h,{setStatus:y}),Object(b.jsx)(T,{setSortTrigger:L})]}),Object(b.jsx)(E,{setIsEdit:_,isEdit:$,todos:m,handlerEscapeEdition:function(e,t){if("Escape"===e.key){var a=Object(u.a)(m);e.preventDefault(),j(n);var r=a.find((function(e){return e.id===t})),c=m.find((function(e){return e.id===t}));r.text=c.text,e.target.value="",e.target.blur(),_("")}},handlerCheckingCheckBox:function(e,t){var n=Object(u.a)(m),a=n.find((function(e){return e.id===t}));a.done=e.target.checked,v(Object(u.a)(n)),function(e){ce.apply(this,arguments)}(a),ne(H,w,N)},handlerDeleteItem:function(e){var t=m.find((function(t){return t.id===e}));function n(){return(n=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete(ee+"/"+t.id);case 2:ne(H,w,N);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()},handlerEditText:function(e,t){if("Enter"===e.key)try{if(""===e.target.value.trim())throw e.target.value="",new Error("Write some task");e.preventDefault(),j(""),ie(e,t),e.target.value="",_(""),ne(H,w,N)}catch(n){G(n.message),X(!0)}else j(e.target.value)},handleChangeItemText:ie}),Object(b.jsx)(I,{handlerPageChange:function(e,t){D(t)},amountOfPages:z}),V?Object(b.jsx)(P.a,{open:V,onClose:function(){return X(!1)},autoHideDuration:2e3,children:Object(b.jsx)(B.a,{onClose:function(){return X(!1)},severity:"error",children:F})}):null]})}function K(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(A,{})})}s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(K,{})}),document.getElementById("root"))},86:function(e,t,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.c5d081bc.chunk.js.map