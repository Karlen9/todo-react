(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{103:function(e,t,n){},123:function(e,t,n){},125:function(e,t,n){},129:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),s=n.n(c),i=(n(103),n(20)),o=n.n(i),u=n(64),l=n(33),d=n(12),j=n(23),b=n.n(j),h=(n(123),n(3));function p(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"selection-bar",children:[Object(h.jsx)("button",{className:"button all-button",onClick:function(){return e.setStatus(null)},value:"all",children:"All"}),Object(h.jsx)("button",{className:"button done-button",onClick:function(){return e.setStatus(!0)},value:"done",children:"Done"}),Object(h.jsx)("button",{className:"button undone-button",onClick:function(){return e.setStatus(!1)},value:"undone",children:"Undone"})]})})}var f=n(190);n(125);function m(e){return Object(h.jsx)("div",{className:"input",children:Object(h.jsx)(f.a,{onChange:e.handlerInputText,onKeyPress:e.handlerInputText,type:"text",autoComplete:"off",className:"main-input",id:"outlined-basic",label:"I want to...",variant:"outlined"})})}var O=n(179),x=n(180),g=n(181),v=n(183),y=n(193),k=n(182),S=n(85),w=n.n(S);n(129);function C(e){return Object(h.jsx)("div",{className:"list",children:Object(h.jsx)(O.a,{width:"100%",children:e.todos.map((function(t){return Object(h.jsxs)(x.a,{children:[Object(h.jsx)(g.a,{children:Object(h.jsx)(y.a,{checked:t.done,onClick:function(n){return e.handlerCheckingCheckBox(n,t.id)},color:"primary"})}),Object(h.jsx)(v.a,{primary:t.name,onDoubleClick:function(){e.setIsEdit(t.id)}}),e.isEdit===t.id?Object(h.jsx)(f.a,{className:"edit-input",onKeyDown:function(n){return e.handlerEscapeEdition(n,t.id)},onChange:function(t){return e.handlerEditText(t)},onKeyPress:function(n){e.handlerEditText(n,t.id)}}):null,Object(h.jsx)("p",{className:"date",children:t.createdAt.split("T")[0]}),Object(h.jsx)(k.a,{onClick:function(n){return e.handlerDeleteItem(t.id)},edge:"end","aria-label":"comments",children:Object(h.jsx)(w.a,{})})]},t.id)}))})})}var N=n(184),E=n(57);n(134);function I(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"sort",children:[Object(h.jsx)("h3",{children:"Sort by D\u0430te"}),Object(h.jsxs)("div",{className:"arrows",children:[Object(h.jsx)(N.a,{onClick:function(){return e.setSortBy("asc")},variant:"contained",children:Object(h.jsx)(E.b,{className:"up-arrow",size:"1rem"})}),Object(h.jsx)(N.a,{onClick:function(){return e.setSortBy("desc")},variant:"contained",children:Object(h.jsx)(E.a,{className:"down-arrow",size:"1rem"})})]})]})})}n(135);var T=n(191);function D(e){var t=e.handlerPageChange,n=e.amountOfPages;return Object(h.jsx)(T.a,{onChange:t,count:n})}var P=n(195),W=n(192);n(136);function A(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(d.a)(s,2),j=i[0],f=i[1],O=Object(a.useState)([]),x=Object(d.a)(O,2),g=x[0],v=x[1],y=Object(a.useState)(null),k=Object(d.a)(y,2),S=k[0],w=k[1],N=Object(a.useState)(1),E=Object(d.a)(N,2),T=E[0],A=E[1],B=Object(a.useState)(1),q=Object(d.a)(B,2),U=q[0],H=q[1],K=Object(a.useState)("asc"),L=Object(d.a)(K,2),z=L[0],F=L[1],J=Object(a.useState)(""),M=Object(d.a)(J,2),V=M[0],R=M[1],G=Object(a.useState)(!1),Q=Object(d.a)(G,2),X=Q[0],Y=Q[1],Z=Object(a.useState)(""),$=Object(d.a)(Z,2),_=$[0],ee=$[1],te=Object(a.useState)(0),ne=Object(d.a)(te,2),ae=ne[0],re=ne[1],ce="http://localhost:3001/tasks/get";function se(e,t,n){return ie.apply(this,arguments)}function ie(){return(ie=Object(l.a)(o.a.mark((function e(t,n,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(ce,{params:{order:t,filterBy:n,page:a},headers:{"auth-token":localStorage.getItem("token")}});case 2:r=e.sent,c=r.data,H(Math.ceil(c.count/5)),re(c.count),v(Object(u.a)(c.rows));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"PATCH",url:"/task/patch",params:{id:t.id},data:{name:t.name,done:t.done},headers:{"auth-token":localStorage.getItem("token")}});case 2:se(z,S,T);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b.a.defaults.baseURL="http://localhost:3001";var le=function(e){function t(){return(t=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"POST",url:"/task/post",data:{name:r,done:!1},headers:{"auth-token":localStorage.getItem("token")}});case 2:se(z,S,T),console.log("posted");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},de=function(e,t){var n=g.find((function(e){return e.id===t}));n.name=j,oe(n),se(z,S,T)};b.a.interceptors.response.use((function(e){return e}),(function(e){return e&&(R(e.response.data.errors||e.response.data.error),Y(!0)),Promise.reject(e)}));return Object(a.useEffect)((function(){localStorage.getItem("token")||e.history.push("/login"),se(z,S,T)}),[T,S,U,z]),Object(a.useEffect)((function(){"Token is invalid, please log in"!==V&&"Invalid Token"!==V||e.history.push("/login")}),[V]),Object(h.jsxs)("section",{className:"main-section",children:[Object(h.jsx)("h1",{children:"ToDo List"}),Object(h.jsx)(m,{handlerInputText:function(e){if("Enter"===e.key)try{if(""===e.target.value.trim())throw e.target.value="",new Error("Write some task");e.preventDefault(),le(e),c(""),e.target.value=""}catch(t){R(t.message),Y(!0)}else c(e.target.value)},inputText:r}),ae>=1?Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(p,{setStatus:w}),Object(h.jsx)(I,{setSortBy:F})]}):null,Object(h.jsx)(C,{setIsEdit:ee,isEdit:_,todos:g,handlerEscapeEdition:function(e,t){if("Escape"===e.key){var n=Object(u.a)(g);e.preventDefault(),f(r);var a=n.find((function(e){return e.id===t})),c=g.find((function(e){return e.id===t}));a.text=c.text,e.target.value="",e.target.blur(),ee("")}},handlerCheckingCheckBox:function(e,t){var n=g.find((function(e){return e.id===t}));n.done=e.target.checked,oe(n),se(z,S,T)},handlerDeleteItem:function(e){var t=g.find((function(t){return t.id===e}));function n(){return(n=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"DELETE",url:"/task/delete",params:{id:t.id},headers:{"auth-token":localStorage.getItem("token")}});case 2:se(z,S,T);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()},handlerEditText:function(e,t){if("Enter"===e.key)try{if(""===e.target.value.trim())throw e.target.value="",new Error("Write some task");e.preventDefault(),f(""),de(e,t),e.target.value="",e.target.focus(),ee(""),se(z,S,T)}catch(n){R(n.message),Y(!0)}else f(e.target.value)},handleChangeItemText:de}),ae>5?Object(h.jsx)(D,{handlerPageChange:function(e,t){A(t)},amountOfPages:U}):null,Object(h.jsx)("button",{onClick:function(t){!function(t){t.preventDefault=!1,localStorage.removeItem("token"),e.history.push("/login")}(t)},className:"button sign-out-btn",children:"Sign out"}),X?Object(h.jsx)(P.a,{open:X,onClose:function(){return Y(!1)},autoHideDuration:2e3,children:Object(h.jsx)(W.a,{onClose:function(){return Y(!1)},severity:"error",children:V})}):null]})}var B=n(187),q=n(189),U=n(188),H=n(185),K=n(186),L=(n(137),Object(H.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})));function z(e){var t=L(),n=Object(a.useState)(""),r=Object(d.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),u=Object(d.a)(i,2),j=u[0],p=u[1],m=Object(a.useState)(""),O=Object(d.a)(m,2),x=O[0],g=O[1],v=Object(a.useState)(""),y=Object(d.a)(v,2),k=y[0],S=y[1],w=Object(a.useState)(!1),C=Object(d.a)(w,2),E=C[0],I=C[1],T=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,b.a.post("http://localhost:3001/user/register",{name:c,email:j,password:x});case 3:e.history.push("/login");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return b.a.interceptors.response.use((function(e){return e}),(function(e){return e&&(S(e.response.data.errors||e.response.data.error),I(!0)),Promise.reject(e)})),Object(h.jsxs)("div",{className:"sign-up-wrapper",children:[Object(h.jsx)("h1",{className:"sign-in-title",children:"Sign Up"}),Object(h.jsxs)(K.a,{component:"main",maxWidth:"xs",children:[Object(h.jsx)(B.a,{}),Object(h.jsxs)("div",{className:t.paper,children:[Object(h.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(e){return T(e)},children:[Object(h.jsxs)(U.a,{container:!0,spacing:2,children:[Object(h.jsx)(U.a,{item:!0,xs:12,children:Object(h.jsx)(f.a,{autoComplete:"fname",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"Name",autoFocus:!0,onChange:function(e){s(e.target.value)}})}),Object(h.jsx)(U.a,{item:!0,xs:12,children:Object(h.jsx)(f.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"off",onChange:function(e){p(e.target.value)}})}),Object(h.jsx)(U.a,{item:!0,xs:12,children:Object(h.jsx)(f.a,{required:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){g(e.target.value)}})})]}),Object(h.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign Up"}),Object(h.jsx)(U.a,{container:!0,justify:"flex-end",children:Object(h.jsx)(U.a,{item:!0,children:Object(h.jsx)(q.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]}),E?Object(h.jsx)(P.a,{open:E,onClose:function(){return I(!1)},autoHideDuration:2e3,children:Object(h.jsx)(W.a,{onClose:function(){return I(!1)},severity:"error",children:k})}):null]})]})]})}n(138);var F=Object(H.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function J(e){var t=F(),n=Object(a.useState)(""),r=Object(d.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),u=Object(d.a)(i,2),j=u[0],p=u[1],m=Object(a.useState)(""),O=Object(d.a)(m,2),x=O[0],g=O[1],v=Object(a.useState)(!1),y=Object(d.a)(v,2),k=y[0],S=y[1],w=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,b()({method:"POST",url:"http://localhost:3001/user/login",data:{email:c,password:j}});case 3:a=t.sent,localStorage.setItem("token",a.data.accessToken),e.history.push("/todos");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return b.a.interceptors.response.use((function(e){return e}),(function(e){return e&&(g(e.response.data.errors||e.response.data.error),S(!0)),Promise.reject(e)})),Object(h.jsxs)("div",{className:"sign-in-wrapper",children:[Object(h.jsx)("h1",{className:"sign-in-title",children:"Sign In"}),Object(h.jsxs)(K.a,{component:"main",maxWidth:"xs",children:[Object(h.jsx)(B.a,{}),Object(h.jsxs)("div",{className:t.paper,children:[Object(h.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(e){return w(e)},children:[Object(h.jsx)(f.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){s(e.target.value)}}),Object(h.jsx)(f.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",onChange:function(e){p(e.target.value)}}),Object(h.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(h.jsx)(U.a,{container:!0,children:Object(h.jsx)(U.a,{item:!0,children:Object(h.jsx)(q.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})})]}),k?Object(h.jsx)(P.a,{open:k,onClose:function(){return S(!1)},autoHideDuration:2e3,children:Object(h.jsx)(W.a,{onClose:function(){return S(!1)},severity:"error",children:x})}):null]})]})]})}var M=n(86),V=n(14);function R(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(M.a,{children:Object(h.jsxs)(V.c,{children:[Object(h.jsx)(V.a,{path:"/todos",component:A}),Object(h.jsx)(V.a,{path:"/login",component:J}),Object(h.jsx)(V.a,{path:"/register",component:z})]})})})}s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.754e28f9.chunk.js.map